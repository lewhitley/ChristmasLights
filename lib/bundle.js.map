{"version":3,"sources":["webpack:///webpack/bootstrap e864358ff7cd1045fec7","webpack:///./lib/entry.js","webpack:///./lib/game.js","webpack:///./lib/wire.js","webpack:///./lib/elec.js","webpack:///./lib/bulb.js","webpack:///./lib/board.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA,wBAAuB;AACvB,0DAAyD;AACzD;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,EAAC;;;;;;;ACtCD;AACA;AACA;;AAEA;AACA;AACA,2BAA0B,wCAAwC;AAClE,2BAA0B,0DAA0D;AACpF;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,mBAAkB,aAAa;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,QAAO;AACP,MAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,QAAO;AACP;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP,MAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,QAAO;AACP;AACA;AACA,QAAO;AACP;AACA;AACA,QAAO;AACP;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,QAAO;AACP;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA,iBAAgB,UAAU,aAAa,UAAU,aAAa,UAAU;AACxE;;AAEA;AACA,4BAA2B,UAAU,aAAa,oBAAoB;AACtE,iBAAgB,oBAAoB,aAAa,oBAAoB;AACrE,iBAAgB,WAAW;AAC3B;;AAEA,sFAAqF,UAAU;AAC/F,iBAAgB,UAAU,aAAa,oBAAoB,aAAa,UAAU;AAClF,iBAAgB,oBAAoB,aAAa,qBAAqB;AACtE,iBAAgB,WAAW;;AAE3B,2EAA0E,UAAU;AACpF,iBAAgB,oBAAoB,aAAa,oBAAoB;AACrE,iBAAgB,oBAAoB,aAAa,oBAAoB;AACrE,iBAAgB,oBAAoB,aAAa,qBAAqB;AACtE,iBAAgB,WAAW,aAAa,WAAW;;AAEnD,gEAA+D,UAAU;AACzE,iBAAgB,UAAU,aAAa,oBAAoB;AAC3D,iBAAgB,oBAAoB,aAAa,oBAAoB;AACrE,iBAAgB,oBAAoB,aAAa,oBAAoB;AACrE,iBAAgB,WAAW,aAAa,qBAAqB;AAC7D,iBAAgB,qBAAqB,aAAa,WAAW;;AAE7D,qDAAoD,UAAU,aAAa,oBAAoB;AAC/F,iBAAgB,oBAAoB,aAAa,oBAAoB;AACrE,iBAAgB,oBAAoB,aAAa,oBAAoB;AACrE,iBAAgB,oBAAoB,aAAa,oBAAoB;AACrE,iBAAgB,WAAW,aAAa,qBAAqB;AAC7D,iBAAgB,qBAAqB,aAAa,qBAAqB;AACvE,iBAAgB,WAAW;;AAE3B,0CAAyC,UAAU,aAAa,oBAAoB;AACpF,iBAAgB,oBAAoB,aAAa,oBAAoB;AACrE,iBAAgB,UAAU,aAAa,UAAU,aAAa,oBAAoB;AAClF,iBAAgB,oBAAoB,aAAa,oBAAoB;AACrE,iBAAgB,qBAAqB,aAAa,qBAAqB;AACvE,iBAAgB,qBAAqB,aAAa,qBAAqB;AACvE,iBAAgB,WAAW,aAAa,WAAW;;AAEnD,+BAA8B,oBAAoB,aAAa,oBAAoB;AACnF,iBAAgB,oBAAoB,aAAa,UAAU,aAAa,UAAU;AAClF,iBAAgB,UAAU,aAAa,oBAAoB;AAC3D,iBAAgB,oBAAoB,aAAa,oBAAoB;AACrE,iBAAgB,UAAU,aAAa,WAAW,aAAa,WAAW;AAC1E,iBAAgB,WAAW,aAAa,qBAAqB;AAC7D,iBAAgB,qBAAqB,aAAa,qBAAqB;AACvE,iBAAgB,WAAW;;AAE3B,+BAA8B,oBAAoB,aAAa,UAAU;AACzE,iBAAgB,oBAAoB,aAAa,UAAU,aAAa,UAAU;AAClF,iBAAgB,oBAAoB,aAAa,oBAAoB;AACrE,iBAAgB,UAAU,aAAa,oBAAoB;AAC3D,iBAAgB,oBAAoB,aAAa,qBAAqB;AACtE,iBAAgB,qBAAqB,aAAa,qBAAqB;AACvE,iBAAgB,qBAAqB,aAAa,qBAAqB;AACvE,iBAAgB,qBAAqB,aAAa,qBAAqB;;AAEvE;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA,QAAO;AACP;AACA,QAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,iBAAgB,aAAa;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,iBAAgB,aAAa;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA2B;AAC3B;AACA;AACA;AACA;AACA,4BAA2B;AAC3B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;;;;;;ACjYA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACrHA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACpDA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC5FA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,MAAK;;AAEL;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA","file":"./lib/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap e864358ff7cd1045fec7\n **/","const Game = require(\"./game\");\nconst Board = require(\"./board\");\n\ndocument.addEventListener(\"DOMContentLoaded\", function(){\n  const botCanvas = document.getElementById(\"bottom-canvas\");\n  botCanvas.width = Game.DIM_X;\n  botCanvas.height = Game.DIM_Y;\n\n  const midCanvas = document.getElementById(\"yellow-canvas\");\n  midCanvas.width = Game.DIM_X;\n  midCanvas.height = Game.DIM_Y;\n\n  const topCanvas = document.getElementById(\"black-canvas\");\n  topCanvas.width = Game.DIM_X;\n  topCanvas.height = Game.DIM_Y;\n\n  const canvasLeft = botCanvas.offsetLeft;\n  const canvasTop = botCanvas.offsetTop;\n\n  const botCtx = botCanvas.getContext(\"2d\");\n  const midCtx = midCanvas.getContext(\"2d\");\n  const topCtx = topCanvas.getContext(\"2d\");\n\n  let game = new Game({left: canvasLeft, top: canvasTop,\n    topCanvas: topCanvas, midCtx: midCtx, topCtx: topCtx});\n  new Board(game, botCtx, midCtx, topCtx).start();\n\n  let aboutModal = document.getElementById('about-modal');\n  let about = document.getElementById('about');\n  about.onclick = () => {\n    aboutModal.style.display = \"block\";\n  };\n\n  let span = document.getElementsByClassName(\"about-close\")[0];\n  span.onclick = (e) => {\n    e.stopPropagation();\n    aboutModal.style.display = \"none\";\n  };\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/entry.js\n ** module id = 0\n ** module chunks = 0\n **/","const Wire = require('./wire');\nconst Bulb = require('./bulb');\nconst Elec = require('./elec');\n\nclass Game {\n  constructor(options){\n    this.null = new Elec({lit: false, orientation: null, pos:null});\n    this.base = new Elec({lit: true, orientation: null, pos:[9,8], type: 'electric'});\n    this.grid = [[], [], [], [], [], [], [], [], [], []];\n\n    this.topCanvas = options.topCanvas;\n    this.midCtx = options.midCtx;\n    this.topCtx = options.topCtx;\n\n    this.setup();\n    this.addEventListeners();\n    this.updateLit();\n\n    this.currentWire = null;\n\n    this.mp = 70;\n    this.particles = [];\n    for(var i = 0; i < this.mp; i++)\n    {\n      this.particles.push({\n        x: Math.random()*Game.DIM_X,\n        y: Math.random()*Game.DIM_Y,\n        r: Math.random()*4+1, //radius\n        d: Math.random()*this.mp //density\n      });\n    }\n\n  }\n\n  addEventListeners(){\n    this.topCanvas.addEventListener(\"click\", this.handleClick.bind(this));\n  }\n\n  draw() {\n    this.grid.slice(0,9).forEach( row => {\n      row.forEach( elec => {\n        if ( elec.lit ){\n          elec.drawLight(this.midCtx, this.topCtx);\n        } else if (elec.pos){\n          elec.drawDark(this.topCtx, this.midCtx);\n        }\n      });\n    });\n\n    if (this.won()) {\n      const wonModal = document.getElementById('won-modal');\n      wonModal.style.display = \"block\";\n\n      let span = document.getElementsByClassName(\"won-close\")[0];\n      span.onclick = (e) => {\n        e.stopPropagation();\n        wonModal.style.display = \"none\";\n      };\n\n      document.getElementsByClassName('new-game')[0].addEventListener('click', (e)=>{\n        e.stopPropagation();\n        wonModal.style.display = \"none\";\n        location.reload();\n      });\n    }\n    \n    this.base.draw(this.midCtx);\n  }\n\n  won(){\n    let winBool = true;\n    this.grid.slice(0,9).forEach( row => {\n      row.forEach( elec => {\n        if ((elec instanceof Bulb) && !elec.lit) {\n          winBool = false;\n        }\n      });\n    });\n    return winBool;\n  }\n\n  handleClick(e){\n    e.preventDefault();\n    const clickY = e.pageY;\n    const clickX = e.pageX - e.path[2].offsetLeft + 20;\n\n    const i = Math.floor((clickX-150)/40);\n    const j = Math.floor((clickY-168)/40);\n    if (this.grid[j] && this.grid[j][i]) {\n      this.grid[j][i].rotate(this);\n    }\n  }\n\n  updateLit(elec){\n    if (!elec) {\n      let base = this.grid[8][8];\n      base.lit = true;\n      this.setChildren(this.grid[8][8]);\n    }\n    this.draw();\n  }\n\n  updateBulb(bulb) {\n    bulb.lit = true;\n  }\n\n  setChildren(wire){\n\n    let above, right, bottom, left;\n    left = this.grid[wire.pos[0]][wire.pos[1]-1];\n    right = this.grid[wire.pos[0]][wire.pos[1]+1];\n    if (this.grid[wire.pos[0]-1]) {\n      above = this.grid[wire.pos[0]-1][wire.pos[1]];\n    }\n    if (this.grid[wire.pos[0]+1]){\n      bottom = this.grid[wire.pos[0]+1][wire.pos[1]];\n    }\n\n    wire.emptyChildren();\n    if (wire.shape === 4) {\n      this.checkDirection(left, wire, 'left');\n      this.checkDirection(right, wire, 'right');\n      this.checkDirection(above, wire, 'above');\n      this.checkDirection(bottom, wire, 'bottom');\n    } else if (wire.shape === 3) {\n      if (wire.orientation === 0) {\n        this.checkDirection(left, wire, 'left');\n        this.checkDirection(right, wire, 'right');\n        this.checkDirection(bottom, wire, 'bottom');\n      } else if (wire.orientation === 1) {\n        this.checkDirection(left, wire, 'left');\n        this.checkDirection(above, wire, 'above');\n        this.checkDirection(bottom, wire, 'bottom');\n      } else if (wire.orientation === 2) {\n        this.checkDirection(left, wire, 'left');\n        this.checkDirection(right, wire, 'right');\n        this.checkDirection(above, wire, 'above');\n      } else if (wire.orientation === 3) {\n        this.checkDirection(right, wire, 'right');\n        this.checkDirection(above, wire, 'above');\n        this.checkDirection(bottom, wire, 'bottom');\n      }\n    } else if (wire.shape === 2) {\n      if (wire.orientation === 0) {\n        this.checkDirection(left, wire, 'left');\n        this.checkDirection(above, wire, 'above');\n      } else if (wire.orientation === 1) {\n        this.checkDirection(right, wire, 'right');\n        this.checkDirection(above, wire, 'above');\n      } else if (wire.orientation === 2) {\n        this.checkDirection(right, wire, 'right');\n        this.checkDirection(bottom, wire, 'bottom');\n      } else if (wire.orientation === 3) {\n        this.checkDirection(left, wire, 'left');\n        this.checkDirection(bottom, wire, 'bottom');\n      }\n    } else if (wire.shape === 1) {\n      if (wire.orientation === 1 || wire.orientation === 3) {\n        this.checkDirection(above, wire, 'above');\n        this.checkDirection(bottom, wire, 'bottom');\n      } else if (wire.orientation === 0 || wire.orientation === 2) {\n        this.checkDirection(left, wire, 'left');\n        this.checkDirection(right, wire, 'right');\n      }\n    }\n\n    wire.children.forEach(child => {\n      if (!child.lit && child.pos) {\n        if (child instanceof Wire) {\n          child.lit = true;\n          this.setChildren(child);\n        } else if (child instanceof Bulb) {\n          this.updateBulb(child);\n        }\n      } else {\n        return;\n      }\n    });\n  }\n\n  setup(){\n    this.grid[0] = [this.null, this.null, this.null, this.null, this.null, this.null, this.null,\n      new Bulb({pos:[0,7]}), new Bulb({pos:[0,8]}), new Bulb({pos:[0,9]}),\n      this.null, this.null, this.null, this.null, this.null, this.null, this.null];\n\n    this.grid[1] = [this.null, this.null, this.null, this.null, this.null,\n      this.null, new Bulb({pos:[1,6]}), new Wire({shape: 3, pos:[1,7]}),\n      new Wire({shape: 3, pos:[1,8]}), new Wire({shape: 4, pos:[1,9]}),\n      new Bulb({pos:[1,10]}), this.null, this.null, this.null, this.null,\n      this.null, this.null];\n\n    this.grid[2] = [this.null, this.null, this.null, this.null, this.null, new Bulb({pos:[2,5]}),\n      new Bulb({pos:[2,6]}), new Wire({shape: 2, pos:[2,7]}), new Bulb({pos:[2,8]}),\n      new Wire({shape: 3, pos:[2,9]}), new Wire({shape: 1, pos:[2,10]}),\n      new Bulb({pos:[2,11]}), this.null, this.null, this.null, this.null, this.null];\n\n    this.grid[3] = [this.null, this.null, this.null, this.null, new Bulb({pos:[3,4]}),\n      new Wire({shape: 3, pos:[3,5]}), new Wire({shape: 1, pos:[3,6]}),\n      new Wire({shape: 1, pos:[3,7]}), new Wire({shape: 2, pos:[3,8]}),\n      new Wire({shape: 3, pos:[3,9]}), new Wire({shape: 1, pos:[3,10]}),\n      new Bulb({pos:[3,11]}), new Bulb({pos:[3,12]}), this.null, this.null, this.null, this.null];\n\n    this.grid[4] = [this.null, this.null, this.null, new Bulb({pos:[4,3]}),\n      new Bulb({pos:[4,4]}), new Wire({shape: 3, pos:[4,5]}),\n      new Wire({shape: 2, pos:[4,6]}), new Wire({shape: 3, pos:[4,7]}),\n      new Wire({shape: 3, pos:[4,8]}), new Wire({shape: 2, pos:[4,9]}),\n      new Bulb({pos:[4,10]}), new Wire({shape: 2, pos:[4,11]}),\n      new Wire({shape: 2, pos:[4,12]}), new Bulb({pos:[4,13]}), this.null, this.null, this.null];\n\n    this.grid[5] = [this.null, this.null, new Bulb({pos:[5,2]}), new Wire({shape: 3, pos:[5,3]}),\n      new Wire({shape: 3, pos:[5,4]}), new Wire({shape: 4, pos:[5,5]}),\n      new Wire({shape: 1, pos:[5,6]}), new Wire({shape: 2, pos:[5,7]}),\n      new Wire({shape: 3, pos:[5,8]}), new Wire({shape: 2, pos:[5,9]}),\n      new Bulb({pos:[5,10]}), new Wire({shape: 4, pos:[5,11]}),\n      new Wire({shape: 1, pos:[5,12]}), new Wire({shape: 3, pos:[5,13]}),\n      new Bulb({pos:[5,14]}), this.null, this.null];\n\n    this.grid[6] = [this.null, new Bulb({pos:[6,1]}), new Wire({shape: 3, pos:[6,2]}),\n      new Wire({shape: 3, pos:[6,3]}), new Wire({shape: 3, pos:[6,4]}),\n      new Bulb({pos:[6,5]}), new Bulb({pos:[6,6]}), new Wire({shape: 3, pos:[6,7]}),\n      new Wire({shape: 4, pos:[6,8]}), new Wire({shape: 1, pos:[6,9]}),\n      new Wire({shape: 1, pos:[6,10]}), new Wire({shape: 4, pos:[6,11]}),\n      new Wire({shape: 3, pos:[6,12]}), new Wire({shape: 1, pos:[6,13]}),\n      new Bulb({pos:[6,14]}), new Bulb({pos:[6,15]}), this.null];\n\n    this.grid[7] = [new Wire({shape: 2, pos:[7,0]}), new Wire({shape: 1, pos:[7,1]}),\n      new Wire({shape: 3, pos:[7,2]}), new Bulb({pos:[7,3]}), new Bulb({pos:[7,4]}),\n      new Bulb({pos:[7,5]}), new Wire({shape: 4, pos:[7,6]}),\n      new Wire({shape: 2, pos:[7,7]}), new Wire({shape: 3, pos:[7,8]}),\n      new Bulb({pos:[7,9]}), new Bulb({pos:[7,10]}), new Bulb({pos:[7,11]}),\n      new Bulb({pos:[7,12]}), new Wire({shape: 2, pos:[7,13]}),\n      new Wire({shape: 1, pos:[7,14]}), new Wire({shape: 2, pos:[7,15]}),\n      new Bulb({pos:[7,16]})];\n\n    this.grid[8] = [new Wire({shape: 2, pos:[8,0]}), new Bulb({pos:[8,1]}),\n      new Wire({shape: 2, pos:[8,2]}), new Bulb({pos:[8,3]}), new Bulb({pos:[8,4]}),\n      new Wire({shape: 1, pos:[8,5]}), new Wire({shape: 2, pos:[8,6]}),\n      new Bulb({pos:[8,7]}), new Wire({shape: 4, pos:[8,8]}),\n      new Wire({shape: 1, pos:[8,9]}), new Wire({shape: 3, pos:[8,10]}),\n      new Wire({shape: 1, pos:[8,11]}), new Wire({shape: 1, pos:[8,12]}),\n      new Wire({shape: 3, pos:[8,13]}), new Wire({shape: 1, pos:[8,14]}),\n      new Wire({shape: 3, pos:[8,15]}), new Wire({shape: 2, pos:[8,16]})];\n\n    this.grid[9] = [this.null, this.null, this.null, this.null, this.null,\n      this.null, this.null, this.null, this.base, this.null, this.null,\n      this.null, this.null, this.null, this.null, this.null, this.null];\n  }\n\n  checkDirection(neighbor, wire, string) {\n    if (neighbor && wire.parent !== neighbor && !neighbor.parent){\n      if (string === 'left' && this.leftConnected(neighbor)){\n        wire.addChild(neighbor);\n      } else if (string === 'right' && this.rightConnected(neighbor)){\n        wire.addChild(neighbor);\n      } else if (string === 'above' && this.aboveConnected(neighbor)){\n        wire.addChild(neighbor);\n      } else if (string === 'bottom' && this.bottomConnected(neighbor)){\n        wire.addChild(neighbor);\n      }\n    }\n  }\n\n  aboveConnected(above){\n    if (above instanceof Bulb) {\n      return above.orientation === 2;\n    } else if (above instanceof Wire) {\n      return (\n        (above.shape === 4) ||\n        (above.shape === 3 && above.orientation !== 2) ||\n        (above.shape === 2 && (above.orientation === 3 || above.orientation === 2)) ||\n        (above.shape === 1 && (above.orientation === 1 || above.orientation === 3))\n      );\n    }\n  }\n\n  rightConnected(right) {\n    if (right instanceof Bulb) {\n      return right.orientation === 3;\n    } else if (right instanceof Wire) {\n      return (\n        (right.shape === 4) ||\n        (right.shape === 3 && right.orientation !== 3) ||\n        (right.shape === 2 && (right.orientation === 0 || right.orientation === 3)) ||\n        (right.shape === 1 && (right.orientation === 0 || right.orientation === 2))\n      );\n    }\n  }\n\n  bottomConnected(bottom) {\n    if (bottom instanceof Bulb) {\n      return bottom.orientation === 0;\n    } else if (bottom instanceof Wire) {\n      return (\n        (bottom.pos && bottom.pos[0] === 9 && bottom.pos[1] === 8) ||\n        (bottom.shape === 4) ||\n        (bottom.shape === 3 && bottom.orientation !== 0) ||\n        (bottom.shape === 2 && (bottom.orientation === 1 || bottom.orientation === 0)) ||\n        (bottom.shape === 1 && (bottom.orientation === 1 || bottom.orientation === 3))\n      );\n    }\n  }\n\n  leftConnected(left) {\n    if (left instanceof Bulb) {\n      return left.orientation === 1;\n    } else if (left instanceof Wire) {\n      return (\n        (left.shape === 4) ||\n        (left.shape === 3 && left.orientation !== 1) ||\n        (left.shape === 2 && (left.orientation === 2 || left.orientation === 1)) ||\n        (left.shape === 1 && (left.orientation === 0 || left.orientation === 2))\n      );\n    }\n  }\n\n  drawBackground(botCtx) {\n    botCtx.clearRect(0, 0, Game.DIM_X, Game.DIM_Y);\n    const grd = botCtx.createLinearGradient(0, Game.DIM_X/2, 0, 0);\n    grd.addColorStop(0, \"blue\");\n    grd.addColorStop(1, \"#000026\");\n    botCtx.fillStyle = grd;\n    botCtx.fillRect(0, 0, Game.DIM_X, Game.DIM_Y);\n\n    botCtx.fillStyle = \"white\";\n    botCtx.fillRect(0,420, 900,80);\n\n    const img = new Image;\n    img.src = 'https://res.cloudinary.com/doepem37s/image/upload/c_scale,h_500,w_950/v1479187903/Christmas%20Tree%20Game/free-colour-christmas-tree-vector-graphics.png';\n    botCtx.drawImage(img, -45, 0);\n\n    botCtx.beginPath();\n\t\tfor(var i = 0; i < this.mp; i++)\n\t\t{\n\t\t\tvar p = this.particles[i];\n\t\t\tbotCtx.moveTo(p.x, p.y);\n\t\t\tbotCtx.arc(p.x, p.y, p.r, 0, Math.PI*2, true);\n\t\t}\n\t\tbotCtx.fill();\n\t\tthis.update();\n\n  }\n\n\tupdate() {\n    var angle = 0;\n\t\tangle += 0.01;\n\t\tfor(var i = 0; i < this.mp; i++)\n\t\t{\n\t\t\tvar p = this.particles[i];\n\t\t\t//Updating X and Y coordinates\n\t\t\t//We will add 1 to the cos function to prevent negative values which will lead flakes to move upwards\n\t\t\t//Every particle has its own density which can be used to make the downward movement different for each flake\n\t\t\t//Lets make it more random by adding in the radius\n\t\t\tp.y += Math.cos(angle+p.d) + 1 + p.r/2;\n\t\t\tp.x += Math.sin(angle) * 2;\n\n\t\t\t//Sending flakes back from the top when it exits\n\t\t\t//Lets make it a bit more organic and let flakes enter from the left and right also.\n\t\t\tif(p.x > Game.DIM_X+5 || p.x < -5 || p.y > Game.DIM_Y)\n\t\t\t{\n\t\t\t\tif(i%3 > 0) //66.67% of the flakes\n\t\t\t\t{\n\t\t\t\t\tthis.particles[i] = {x: Math.random()*Game.DIM_X, y: -10, r: p.r, d: p.d};\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\t//If the flake is exitting from the right\n\t\t\t\t\tif(Math.sin(angle) > 0)\n\t\t\t\t\t{\n\t\t\t\t\t\t//Enter from the left\n\t\t\t\t\t\tthis.particles[i] = {x: -5, y: Math.random()*Game.DIM_Y, r: p.r, d: p.d};\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\t//Enter from the right\n\t\t\t\t\t\tthis.particles[i] = {x: Game.DIM_X+5, y: Math.random()*Game.DIM_Y, r: p.r, d: p.d};\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\nGame.DIM_X = 900;\nGame.DIM_Y = 500;\n\nmodule.exports = Game;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/game.js\n ** module id = 1\n ** module chunks = 0\n **/","const Elec = require('./elec');\n\nclass Wire extends Elec {\n  constructor(options){\n    super(options);\n    this.shape = options.shape;\n    this.children = [];\n  }\n\n  drawLight(ctx, other) {\n    ctx.strokeStyle = 'yellow';\n    ctx.lineWidth = 4;\n    ctx.shadowBlur = 8;\n    ctx.shadowColor = \"white\";\n    this.drawWire(ctx, other);\n  }\n\n  drawDark(ctx, other) {\n    ctx.lineWidth = 4;\n    this.drawWire(ctx, other);\n  }\n\n  emptyChildren() {\n    this.children.forEach(child => {\n      child.lit = false;\n      child.emptyParent(this);\n      if (child instanceof Wire) {\n        child.emptyChildren();\n      }\n    });\n    this.children = [];\n  }\n\n  addChild(child) {\n    this.children.push(child);\n    child.updateParent(this);\n  }\n\n  drawWire(ctx, other) {\n    ctx.clearRect(this.x, this.y, this.x+this.width, this.y+this.height);\n    other.clearRect(this.x, this.y, this.x+this.width, this.y+this.height);\n    ctx.beginPath();\n    if (this.shape === 4 ){\n      ctx.moveTo(this.x+(this.width/2), this.y);\n      ctx.lineTo(this.x+(this.width/2), this.y+this.height);\n      ctx.stroke();\n      ctx.moveTo(this.x, this.y+(this.height/2));\n      ctx.lineTo(this.x+this.width, this.y+(this.height/2));\n      ctx.stroke();\n    } else if(this.shape === 3 && this.orientation === 1) {\n      ctx.moveTo(this.x+(this.width/2), this.y);\n      ctx.lineTo(this.x+(this.width/2), this.y+this.height);\n      ctx.stroke();\n      ctx.moveTo(this.x, this.y+(this.height/2));\n      ctx.lineTo(this.x+(this.width/2), this.y+(this.height/2));\n      ctx.stroke();\n    } else if(this.shape === 3 && this.orientation === 2) {\n      ctx.moveTo(this.x+(this.width/2), this.y);\n      ctx.lineTo(this.x+(this.width/2), this.y+(this.height/2));\n      ctx.stroke();\n      ctx.moveTo(this.x, this.y+(this.height/2));\n      ctx.lineTo(this.x+this.width, this.y+(this.height/2));\n      ctx.stroke();\n    } else if (this.shape === 3 && this.orientation === 3) {\n      ctx.moveTo(this.x+(this.width/2), this.y);\n      ctx.lineTo(this.x+(this.width/2), this.y+this.height);\n      ctx.stroke();\n      ctx.moveTo(this.x+(this.width/2), this.y+(this.height/2));\n      ctx.lineTo(this.x+this.width, this.y+(this.height/2));\n      ctx.stroke();\n    } else if (this.shape === 3 && this.orientation === 0) {\n      ctx.moveTo(this.x+(this.width/2), this.y+(this.height/2));\n      ctx.lineTo(this.x+(this.width/2), this.y+this.height);\n      ctx.stroke();\n      ctx.moveTo(this.x, this.y+(this.height/2));\n      ctx.lineTo(this.x+this.width, this.y+(this.height/2));\n      ctx.stroke();\n    } else if(this.shape === 2 && this.orientation === 0) {\n      ctx.moveTo(this.x+(this.width/2), this.y);\n      ctx.lineTo(this.x+(this.width/2), this.y+(this.height/2)+2);\n      ctx.stroke();\n      ctx.moveTo(this.x, this.y+(this.height/2));\n      ctx.lineTo(this.x+(this.width/2)+2, this.y+(this.height/2));\n      ctx.stroke();\n    } else if(this.shape === 2 && this.orientation === 1) {\n      ctx.moveTo(this.x+(this.width/2), this.y);\n      ctx.lineTo(this.x+(this.width/2), this.y+(this.height/2)+2);\n      ctx.stroke();\n      ctx.moveTo(this.x+(this.width/2)+2, this.y+(this.height/2));\n      ctx.lineTo(this.x+this.width, this.y+(this.height/2));\n      ctx.stroke();\n    } else if(this.shape === 2 && this.orientation === 2) {\n      ctx.moveTo(this.x+(this.width/2), this.y+this.height);\n      ctx.lineTo(this.x+(this.width/2), this.y+(this.height/2)-2);\n      ctx.stroke();\n      ctx.moveTo(this.x+(this.width/2), this.y+(this.height/2));\n      ctx.lineTo(this.x+this.width, this.y+(this.height/2));\n      ctx.stroke();\n    } else if(this.shape === 2 && this.orientation === 3) {\n      ctx.moveTo(this.x+(this.width/2), this.y+this.height);\n      ctx.lineTo(this.x+(this.width/2), this.y+(this.height/2)-2);\n      ctx.stroke();\n      ctx.moveTo(this.x, this.y+(this.height/2));\n      ctx.lineTo(this.x+(this.width/2), this.y+(this.height/2));\n      ctx.stroke();\n    } else if (this.shape === 1 && (this.orientation === 1 || this.orientation === 3)){\n      ctx.moveTo(this.x+(this.width/2), this.y);\n      ctx.lineTo(this.x+(this.width/2), this.y+this.height);\n      ctx.stroke();\n    } else if (this.shape === 1 && (this.orientation === 0 || this.orientation === 2)){\n      ctx.moveTo(this.x, this.y+(this.height/2));\n      ctx.lineTo(this.x+this.width, this.y+(this.height/2));\n      ctx.stroke();\n    }\n  }\n}\n\nmodule.exports = Wire;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/wire.js\n ** module id = 2\n ** module chunks = 0\n **/","class Elec {\n  constructor(options){\n    this.lit = options.lit || false;\n    this.orientation = Math.floor(Math.random() * 4);\n    this.pos = options.pos;\n\n    if (options.pos){\n      this.width = 40;\n      this.height = 40;\n      this.x = options.pos[1]*this.width+120;\n      this.y = options.pos[0]*this.height+65;\n    }\n\n    if (options.type) {\n      this.type = options.type;\n    }\n\n    this.parent = null;\n  }\n\n  rotate(game){\n    const prevOrient = this.orientation;\n    this.orientation = (prevOrient === 3) ? 0 : prevOrient + 1;\n    game.updateLit();\n  }\n\n  draw(ctx) {\n    if (this.type) {\n      ctx.strokeStyle = 'yellow';\n      ctx.lineWidth = 4;\n      ctx.moveTo(this.x+(this.width/2), this.y);\n      ctx.lineTo(this.x+(this.width/2), this.y+20);\n      ctx.stroke();\n      const base = new Image;\n      base.src = 'https://res.cloudinary.com/doepem37s/image/upload/c_scale,w_40/v1479275220/Christmas%20Tree%20Game/BoltCircle.png';\n      ctx.drawImage(base, this.x, this.y + 20);\n    } else{\n      return;\n    }\n  }\n\n  updateParent(parent) {\n    this.parent = parent;\n  }\n\n  emptyParent(parent){\n    if (this.parent === parent) {\n      this.parent = null;\n    }\n  }\n}\n\nmodule.exports = Elec;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/elec.js\n ** module id = 3\n ** module chunks = 0\n **/","const Elec = require('./elec');\n\nclass Bulb extends Elec {\n  constructor(options){\n    super(options);\n    const COLORS = [\"red\", \"yellow\", \"green\", \"blue\", \"purple\"];\n    this.color = options.color || COLORS[Math.floor(Math.random() * COLORS.length)];\n\n    this.x += (this.width/2);\n    this.y += (this.height/2);\n  }\n\n  drawLight(ctx, other) {\n    ctx.clearRect(this.x-(this.width/2), this.y-(this.height/2), this.x+(this.width/2), this.y+(this.height/2));\n    other.clearRect(this.x-(this.width/2), this.y-(this.height/2), this.x+(this.width/2), this.y+(this.height/2));\n    if (this.color === 'red') {\n      const redLit = new Image;\n      redLit.src = 'https://res.cloudinary.com/doepem37s/image/upload/c_scale,w_30/v1479240866/Christmas%20Tree%20Game/red_light.png';\n      ctx.drawImage(redLit, this.x+5-(this.width/2), this.y+5-(this.height/2));\n    } else if (this.color === 'green') {\n      const greenLit = new Image;\n      greenLit.src = 'https://res.cloudinary.com/doepem37s/image/upload/c_scale,w_30/v1479240855/Christmas%20Tree%20Game/green_light.png';\n      ctx.drawImage(greenLit, this.x+5-(this.width/2), this.y+5-(this.height/2));\n    } else if (this.color === 'blue') {\n      const blueLit = new Image;\n      blueLit.src = 'https://res.cloudinary.com/doepem37s/image/upload/c_scale,w_30/v1479240849/Christmas%20Tree%20Game/blue_light.png';\n      ctx.drawImage(blueLit, this.x+5-(this.width/2), this.y+5-(this.height/2));\n    } else if (this.color === 'purple') {\n      const purpleLit = new Image;\n      purpleLit.src = 'https://res.cloudinary.com/doepem37s/image/upload/c_scale,w_30/v1479240860/Christmas%20Tree%20Game/purple_light.png';\n      ctx.drawImage(purpleLit, this.x+5-(this.width/2), this.y+5-(this.height/2));\n    } else if (this.color === 'yellow') {\n      const yellowLit = new Image;\n      yellowLit.src = 'https://res.cloudinary.com/doepem37s/image/upload/c_scale,w_30/v1479240872/Christmas%20Tree%20Game/yellow_light.png';\n      ctx.drawImage(yellowLit, this.x+5-(this.width/2), this.y+5-(this.height/2));\n    }\n    ctx.strokeStyle = 'yellow';\n    ctx.shadowBlur = 8;\n    ctx.shadowColor = \"white\";\n    this.drawWire(ctx);\n  }\n\n  drawDark(ctx, other){\n    ctx.clearRect(this.x-(this.width/2), this.y-(this.height/2), this.x+(this.width/2), this.y+(this.height/2));\n    other.clearRect(this.x-(this.width/2), this.y-(this.height/2), this.x+(this.width/2), this.y+(this.height/2));\n    if (this.color === 'red') {\n      const redDark = new Image;\n      redDark.src = 'https://res.cloudinary.com/doepem37s/image/upload/c_scale,w_30/v1479240863/Christmas%20Tree%20Game/red_dark.png';\n      ctx.drawImage(redDark, this.x+5-(this.width/2), this.y+5-(this.height/2));\n    } else if (this.color === 'green') {\n      const greenDark = new Image;\n      greenDark.src = 'https://res.cloudinary.com/doepem37s/image/upload/c_scale,w_30/v1479240853/Christmas%20Tree%20Game/green_dark.png';\n      ctx.drawImage(greenDark, this.x+5-(this.width/2), this.y+5-(this.height/2));\n    } else if (this.color === 'blue') {\n      const blueDark = new Image;\n      blueDark.src = 'https://res.cloudinary.com/doepem37s/image/upload/c_scale,w_30/v1479240845/Christmas%20Tree%20Game/blue_dark.png';\n      ctx.drawImage(blueDark, this.x+5-(this.width/2), this.y+5-(this.height/2));\n    } else if (this.color === 'purple') {\n      const purpleDark = new Image;\n      purpleDark.src = 'https://res.cloudinary.com/doepem37s/image/upload/c_scale,w_30/v1479240858/Christmas%20Tree%20Game/purple_dark.png';\n      ctx.drawImage(purpleDark, this.x+5-(this.width/2), this.y+5-(this.height/2));\n    } else if (this.color === 'yellow') {\n      const yellowDark = new Image;\n      yellowDark.src = 'https://res.cloudinary.com/doepem37s/image/upload/c_scale,w_30/v1479240870/Christmas%20Tree%20Game/yellow_dark.png';\n      ctx.drawImage(yellowDark, this.x+5-(this.width/2), this.y+5-(this.height/2));\n    }\n    ctx.strokeStyle = 'black';\n    ctx.lineWidth = 4;\n    this.drawWire(ctx);\n  }\n\n  drawWire(ctx) {\n    ctx.beginPath();\n    const RADIUS = 13;\n    if (this.orientation === 0) {\n      ctx.moveTo(this.x, this.y-RADIUS);\n      ctx.lineTo(this.x, this.y-(this.height/2));\n    } else if (this.orientation === 1){\n      ctx.moveTo(this.x+RADIUS, this.y);\n      ctx.lineTo(this.x+(this.width/2), this.y);\n    } else if (this.orientation === 2){\n      ctx.moveTo(this.x, this.y+RADIUS);\n      ctx.lineTo(this.x, this.y+(this.height/2));\n    } else if (this.orientation === 3){\n      ctx.moveTo(this.x-RADIUS, this.y);\n      ctx.lineTo(this.x-(this.width/2), this.y);\n    }\n    ctx.stroke();\n    ctx.closePath();\n  }\n}\n\nmodule.exports = Bulb;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/bulb.js\n ** module id = 4\n ** module chunks = 0\n **/","class Board {\n  constructor(game, botCtx, midCtx, topCtx) {\n    this.botCtx = botCtx;\n    this.midCtx = midCtx;\n    this.topCtx = topCtx;\n    this.game = game;\n    this.timeElapsed = 0;\n\n    this.audio = document.getElementById('audio');\n\n    document.getElementById('new-game').addEventListener('click', () => {\n      this.newGame();\n    });\n\n    document.getElementById('music').addEventListener('click', () => {\n      this.toggleMusic();\n    });\n  }\n\n  start() {\n    this.audio.play();\n    this.lastTime = 0;\n    this.game.drawBackground(this.botCtx);\n    requestAnimationFrame(this.tree.bind(this));\n    requestAnimationFrame(this.animate.bind(this));\n    this.timer();\n  }\n\n  tree(time) {\n    setInterval(() => {\n      this.game.drawBackground(this.botCtx);\n    }, 33);\n  }\n\n  animate(time) {\n    this.game.draw();\n    if (time < 2000 ) {\n      requestAnimationFrame(this.animate.bind(this));\n    }\n  }\n\n  timer() {\n    document.getElementById('timer').innerHTML = 'Time: 0';\n    this.timerIntervalId = setInterval(() => {\n      this.timeElapsed += 1;\n      document.getElementById('timer').innerHTML = 'Time: '+this.timeElapsed;\n    }, 1000);\n  }\n\n  newGame() {\n    location.reload();\n  }\n\n  toggleMusic() {\n    if (this.audio.paused) {\n      this.audio.play();\n    } else {\n      this.audio.pause();\n    }\n  }\n}\n\nmodule.exports = Board;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/board.js\n ** module id = 5\n ** module chunks = 0\n **/"],"sourceRoot":""}